# =====================================================
# CPS v5.0 演出系统配置文件
# =====================================================
# 架构：四层导演金字塔 (4-Layer Pipeline)
#   L1: ODR Router → Channel (结局前置路由)
#   L2: Dual Bidder → ActionBone + ReactionBone (双轨竞标)
#   L3: Assembler → final_text (原子拼装 + SVI + DHL)
#   L4: AV Dispatcher → PresentationAttackEvent (视听调度)
#
# 注意：旧格式的 templates 已被移除，现只支持 action_bones 和 reaction_bones
# T0 脚本模板请通过代码直接创建，不再从 YAML 加载
# =====================================================

# =====================================================
# ActionBone 库 (攻击方动作骨架)
# =====================================================
action_bones:
  # --- 光束类 (Beam/Energy) ---
  - bone_id: "act_beam_rifle_aim"
    intent: "BEAM_INSTANT"
    physics_class: "Energy"
    text_fragments:
      - "{attacker}锁定能量特征，随着电荷汇聚完毕，扣下扳机！"
      - "{attacker}的{weapon}瞄准系统锁定目标，随着扳机扣下，光束喷薄而出！"
      - "{attacker}稳稳地端起{weapon}，高能粒子在枪管中汇聚，射出一道毁灭的光芒！"
    anim_id: "anim_rifle_shoot"

  - bone_id: "act_beam_mega_charge"
    intent: "BEAM_MASSIVE"
    physics_class: "Energy"
    text_fragments:
      - "{attacker}的{weapon}开始充能，周围的空间因能量密度过高而扭曲，一道巨大的光束横扫战场！"
      - "能量读数突破临界值！{attacker}将{weapon}的出力推至极限，毁灭性的光束倾泻而出！"
      - "{attacker}的机体四周因能量聚集而扭曲，{weapon}蓄势待发，最终爆发出惊天动地的威力！"
    anim_id: "anim_mega_beam"

  # --- 斩击类 (Blade) ---
  - bone_id: "act_slash_light"
    intent: "SLASH_LIGHT"
    physics_class: "Blade"
    text_fragments:
      - "{attacker}身形一闪，{weapon}划出一道致命的弧线，斩向敌机！"
      - "{attacker}从腰间拔出{weapon}，机体已化作白色闪光，瞬间划破空气！"
      - "{attacker}以迅雷不及掩耳之势挥动{weapon}，向敌人发起致命斩击！"
    anim_id: "anim_slash_fast"

  - bone_id: "act_slash_heavy"
    intent: "SLASH_HEAVY"
    physics_class: "Blade"
    text_fragments:
      - "{attacker}将推进器出力推至极限，{weapon}划出一道足以撕裂大气层的弧光，劈向敌机！"
      - "{attacker}抡起沉重的{weapon}，以泰山压顶之势猛然砸下！"
      - "{attacker}的{weapon}在空中留下一道完美的、象征终焉的轨迹，狠狠斩下！"
    anim_id: "anim_slash_heavy"

  # --- 实弹类 (Kinetic) ---
  - bone_id: "act_projectile_single"
    intent: "PROJECTILE_SINGLE"
    physics_class: "Kinetic"
    text_fragments:
      - "{attacker}扣动扳机，{weapon}的退壳机排出一缕青烟，弹头呼啸而出！"
      - "{attacker}发射出一枚高速破甲弹，弹丸撕裂空气的声音在战场上空回荡！"
      - "为了这一刻，{attacker}甚至彻底接管了火控计算机的权限，精确射击！"
    anim_id: "anim_shoot_single"

  - bone_id: "act_projectile_rain"
    intent: "PROJECTILE_RAIN"
    physics_class: "Kinetic"
    text_fragments:
      - "「覆盖前方区域！」{attacker}的{weapon}向前方喷吐出密集的火蛇！"
      - "{attacker}试图用压倒性的钢铁暴雨封锁目标的所有活动空间！"
      - "{attacker}的{weapon}喷吐出无休止的弹幕，将战场化作地狱！"
    anim_id: "anim_missile_rain"

  # --- 撞击类 (Impact) ---
  - bone_id: "act_impact_ram"
    intent: "IMPACT_MASSIVE"
    physics_class: "Impact"
    text_fragments:
      - "{attacker}完全放弃了射击，将辅助推进器全部开启，机体化作一枚钢铁陨石撞向敌机！"
      - "{attacker}将推进器推至极限，以不可阻挡之势向{defender}冲去！"
      - "{attacker}的目标只有一个——{defender}的驾驶舱！全速撞击！"
    anim_id: "anim_collision"

  - bone_id: "act_strike_blunt"
    intent: "STRIKE_BLUNT"
    physics_class: "Impact"
    text_fragments:
      - "{attacker}加速重拳挥出，空气在高速移动的拳头前部形成了肉眼可见的激波！"
      - "{attacker}踏步出击，试图以雷霆万钧的重击击碎对方的防御！"
      - "{attacker}的重击精准击中了机体结构的结合点，造成剧烈震荡！"
    anim_id: "anim_strike"

  # --- 特殊类 ---
  - bone_id: "act_aoe_burst"
    intent: "AOE_BURST"
    physics_class: "Energy"
    text_fragments:
      - "{attacker}启动了禁忌的武器序列，地平线上仿佛升起了第二颗太阳"
      - "{attacker}将所有的能量倾注于这一次全域打击"
      - "{attacker}的超大威力武器进入了最终发射程序"
    anim_id: "anim_aoe_burst"

  - bone_id: "act_psycho_wave"
    intent: "PSYCHO_WAVE"
    physics_class: "Energy"
    text_fragments:
      - "「去吧！按照我的意志！」{attacker}的意识通过感应系统无限扩张"
      - "{attacker}释放出无差别的灵魂波动"
      - "{attacker}的意识正在突破物质的边界"
    anim_id: "anim_psycho"

# =====================================================
# ReactionBone 库 (防御方反应骨架)
# =====================================================
reaction_bones:
  # --- IMPACT 频道: 命中反应 ---
  - bone_id: "react_energy_hit"
    channel: "IMPACT"
    physics_class: "Energy"
    text_fragments:
      - "{defender}的{hit_part}被高能光束灼穿，留下熔融痕迹"
      - "{defender}的{hit_part}装甲涂层在高热中迅速蒸发，发出刺耳的嘶鸣"
      - "高能粒子流在{defender}的{hit_part}烧蚀出焦黑的轨迹"
      - "{defender}的{hit_part}承受了高温烧蚀，装甲表面开始融解"
    vfx_ids: ["vfx_beam_impact", "vfx_armor_melt"]
    sfx_ids: ["sfx_beam_hit"]

  - bone_id: "react_kinetic_hit"
    channel: "IMPACT"
    physics_class: "Kinetic"
    text_fragments:
      - "弹头狠狠撞入{defender}的{hit_part}，物理性的撕裂比能量武器更加残暴"
      - "{defender}的{hit_part}装甲板被炸出一个大坑，破碎的机件四散飞溅"
      - "{defender}的{hit_part}承受巨大动能，机体框架发出痛苦的呻吟"
      - "弹头贯穿{defender}的{hit_part}，金属碎片在爆炸中四散"
    vfx_ids: ["vfx_explosion_solid", "vfx_debris"]
    sfx_ids: ["sfx_shell_hit"]

  - bone_id: "react_blade_hit"
    channel: "IMPACT"
    physics_class: "Blade"
    text_fragments:
      - "利刃深深切入{defender}的{hit_part}，留下灼热的伤痕"
      - "{defender}的{hit_part}被刀锋削去一大块，金属扭曲声刺耳"
      - "刀刃在{defender}的{hit_part}切裂装甲的刺耳声响彻战场"
      - "{defender}的{hit_part}装甲被斩开，内部结构暴露在外"
    vfx_ids: ["vfx_slash_spark", "vfx_armor_cut"]
    sfx_ids: ["sfx_blade_hit"]

  - bone_id: "react_impact_hit"
    channel: "IMPACT"
    physics_class: "Impact"
    text_fragments:
      - "{defender}的{hit_part}遭受重击，主显示器瞬间布满了裂痕"
      - "巨大的冲击力透过{defender}的{hit_part}将内部零件震得四散飞起"
      - "{defender}的{hit_part}被重击命中，机体被惯性直接撞飞"
      - "冲击波从{defender}的{hit_part}扩散开来，警报声响彻驾驶舱"
    vfx_ids: ["vfx_impact_shock", "vfx_screen_crack"]
    sfx_ids: ["sfx_collision_heavy"]

  # --- EVADE 频道: 闪避反应 ---
  - bone_id: "react_evade_energy"
    channel: "EVADE"
    physics_class: "Energy"
    text_fragments:
      - "{defender}推进器喷射，侧身闪开！"
      - "残影晃动，{defender}已不在原位！"
      - "{defender}机敏地躲过了攻击！"
    vfx_ids: ["vfx_dodge_trail"]
    sfx_ids: ["sfx_dodge"]

  - bone_id: "react_evade_kinetic"
    channel: "EVADE"
    physics_class: "Kinetic"
    text_fragments:
      - "{defender}推进器反向喷射，滑步闪避！"
      - "{defender}侧身跃起，险险避过致命一击！"
      - "{defender}在千钧一发之际完成闪避！"
    vfx_ids: ["vfx_dodge_trail"]
    sfx_ids: ["sfx_dodge"]

  - bone_id: "react_evade_blade"
    channel: "EVADE"
    physics_class: "Blade"
    text_fragments:
      - "{defender}的姿态控制喷嘴喷出耀眼的火焰，完美躲过了攻击！"
      - "{defender}以精妙的步法闪开了锋利的斩击！"
      - "刀刃擦着{defender}的装甲划过，险险避过！"
    vfx_ids: ["vfx_dodge_trail"]
    sfx_ids: ["sfx_dodge"]

  - bone_id: "react_evade_impact"
    channel: "EVADE"
    physics_class: "Impact"
    text_fragments:
      - "{defender}推进器反向喷射，滑步闪避！"
      - "{defender}侧身跃起，险险避过致命一击！"
      - "{defender}在千钧一发之际完成闪避！"
    vfx_ids: ["vfx_dodge_trail"]
    sfx_ids: ["sfx_dodge"]

  # --- FATAL 频道: 致死反应 ---
  - bone_id: "react_fatal_energy"
    channel: "FATAL"
    physics_class: "Energy"
    text_fragments:
      - "{defender}的{hit_part}被高能光束贯穿，机体在烈焰中化为燃烧的残骸"
      - "{defender}的{hit_part}熔穿后引发连锁爆炸，系统瞬间离线"
      - "光束从{defender}的{hit_part}穿透整个机体，在死寂的闪光后化为流星"
      - "{defender}的{hit_part}被蒸发，机体在爆炸中支离破碎"
    vfx_ids: ["vfx_fatal_explosion", "vfx_beam_pierce"]
    sfx_ids: ["sfx_fatal_explosion"]

  - bone_id: "react_fatal_kinetic"
    channel: "FATAL"
    physics_class: "Kinetic"
    text_fragments:
      - "弹头直接贯穿{defender}的{hit_part}，机体在空中化为破碎的流星"
      - "{defender}的{hit_part}被击碎，核心机能停止，连锁爆裂接踵而至"
      - "{defender}的{hit_part}被彻底贯穿，机体在烈焰中坠落"
      - "致命一击命中{defender}的{hit_part}，瞬间引爆了动力炉"
    vfx_ids: ["vfx_fatal_explosion", "vfx_debris_scatter"]
    sfx_ids: ["sfx_fatal_explosion"]

  - bone_id: "react_fatal_blade"
    channel: "FATAL"
    physics_class: "Blade"
    text_fragments:
      - "{defender}的{hit_part}连同骨架一同被切断！系统在爆炸中崩溃"
      - "利刃贯穿{defender}的{hit_part}，驾驶员甚至来不及反应"
      - "{defender}的机体从{hit_part}被一分为二，残骸缓缓飘散"
      - "{defender}的{hit_part}承受致命斩击，机体在爆炸中瓦解"
    vfx_ids: ["vfx_fatal_slash", "vfx_bisection"]
    sfx_ids: ["sfx_fatal_slash"]

  - bone_id: "react_fatal_impact"
    channel: "FATAL"
    physics_class: "Impact"
    text_fragments:
      - "{defender}的{hit_part}被重锤贯穿，机体在剧烈撞击声中化为碎片"
      - "冲击波摧毁了{defender}的{hit_part}，机体瞬间被压成废铁"
      - "{defender}的{hit_part}承受了最终撞击，机体在爆炸中彻底瓦解"
      - "这灵魂与灵魂的撞击粉碎了{defender}的{hit_part}，一切结束"
    vfx_ids: ["vfx_fatal_explosion", "vfx_impact_crush"]
    sfx_ids: ["sfx_fatal_explosion"]

  # --- BLOCK/PARRY 反应 ---
  - bone_id: "react_block_energy"
    channel: "IMPACT"
    physics_class: "Energy"
    attack_result: "BLOCK"
    text_fragments:
      - "{defender}的{hit_part}盾牌表面亮起刺眼红光，防御阵线依然稳固"
      - "I-Field在{defender}的{hit_part}展开，光束在感应场表面扭曲消散"
      - "{defender}的{hit_part}抗光束涂层迅速蒸发，能量雾气弥漫"
      - "光束撞上{defender}的{hit_part}后被完全偏转，没有留下痕迹"
    vfx_ids: ["vfx_shield_glow", "vfx_beam_diffuse"]
    sfx_ids: ["sfx_shield_absorb"]

  - bone_id: "react_block_kinetic"
    channel: "IMPACT"
    physics_class: "Kinetic"
    attack_result: "BLOCK"
    text_fragments:
      - "{defender}的{hit_part}盾牌死死顶在前方，表面已千疮百孔但防线稳固"
      - "{defender}的{hit_part}厚重装甲层硬扛下来，攻击被成功挡下"
      - "{defender}的{hit_part}表面迸溅出火花，攻击被弹开"
      - "弹头撞击{defender}的{hit_part}后被粉碎，防御依然完整"
    vfx_ids: ["vfx_shield_spark", "vfx_armor_impact"]
    sfx_ids: ["sfx_shield_block"]

  - bone_id: "react_parry_blade"
    channel: "IMPACT"
    physics_class: "Blade"
    attack_result: "PARRY"
    text_fragments:
      - "火花四溅！{defender}以武器精准招架，化解了攻势"
      - "金属撞击的尖锐声响！{defender}成功架住了来袭攻击"
      - "{defender}承受撞击，传感器因强烈碰撞产生杂讯"
    vfx_ids: ["vfx_spark_burst", "vfx_metal_clash"]
    sfx_ids: ["sfx_clash_light"]

  - bone_id: "react_parry_energy"
    channel: "IMPACT"
    physics_class: "Energy"
    attack_result: "PARRY"
    text_fragments:
      - "{defender}的I-Field感应场及时展开，能量攻击被偏转"
      - "光束在{defender}的盾牌表面划过，没有留下痕迹"
    vfx_ids: ["vfx_shield_glow", "vfx_beam_diffuse"]
    sfx_ids: ["sfx_shield_absorb"]

  - bone_id: "react_parry_kinetic"
    channel: "IMPACT"
    physics_class: "Kinetic"
    attack_result: "PARRY"
    text_fragments:
      - "{defender}的盾牌精准偏转，弹头被弹飞到一旁"
      - "{defender}以精妙的角度架住了来袭的攻击"
    vfx_ids: ["vfx_shield_spark", "vfx_deflect"]
    sfx_ids: ["sfx_deflect"]

  - bone_id: "react_parry_impact"
    channel: "IMPACT"
    physics_class: "Impact"
    attack_result: "PARRY"
    text_fragments:
      - "{defender}推进器全开，在接触前完成了闪避"
      - "千钧一发之际，{defender}侧身避开了正面冲撞"
    vfx_ids: ["vfx_dodge_trail"]
    sfx_ids: ["sfx_dodge"]
