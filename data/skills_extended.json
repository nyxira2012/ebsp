{
  "spirit_strike": [
    {
      "id": "spirit_strike",
      "name": "必中",
      "hook": "HOOK_PRE_HIT_RATE",
      "operation": "set",
      "value": 100.0,
      "duration": 1,
      "priority": 100
    }
  ],
  "spirit_alert": [
    {
      "id": "spirit_alert",
      "name": "必闪",
      "hook": "HOOK_PRE_HIT_RATE",
      "operation": "set",
      "value": 0.0,
      "duration": 1,
      "charges": 1,
      "priority": 100
    }
  ],
  "spirit_valor": [
    {
      "id": "spirit_valor",
      "name": "热血",
      "hook": "HOOK_PRE_DAMAGE_MULT",
      "operation": "mul",
      "value": 2.0,
      "duration": 1,
      "charges": 1,
      "priority": 60
    }
  ],
  "spirit_iron_wall": [
    {
      "id": "spirit_iron_wall",
      "name": "铁壁",
      "hook": "HOOK_PRE_MITIGATION",
      "operation": "max",
      "value": 0.75,
      "duration": 1,
      "priority": 70
    }
  ],
  "spirit_focus": [
    {
      "id": "spirit_focus_hit",
      "name": "集中(命中)",
      "hook": "HOOK_PRE_HIT_RATE",
      "operation": "add",
      "value": 30.0,
      "duration": 1,
      "sub_priority": 501
    },
    {
      "id": "spirit_focus_eva",
      "name": "集中(回避)",
      "hook": "HOOK_PRE_DODGE_RATE",
      "operation": "add",
      "value": 30.0,
      "duration": 1
    }
  ],
  "spirit_zeal": [
    {
      "id": "spirit_zeal",
      "name": "加速",
      "hook": "HOOK_INITIATIVE_SCORE",
      "operation": "add",
      "value": 50.0,
      "duration": 1
    }
  ],
  "spirit_charge": [
    {
      "id": "spirit_charge",
      "name": "突击",
      "hook": "HOOK_PRE_HIT_RATE",
      "operation": "add",
      "value": 20.0,
      "duration": 1
    }
  ],
  "spirit_luck": [
    {
      "id": "spirit_luck",
      "name": "幸运",
      "hook": "HOOK_PRE_DAMAGE_MULT",
      "operation": "mul",
      "value": 1.2,
      "duration": 1,
      "charges": 1
    }
  ],
  "spirit_flash": [
    {
      "id": "spirit_strike",
      "name": "必中",
      "hook": "HOOK_PRE_HIT_RATE",
      "operation": "set",
      "value": 100.0,
      "duration": 1,
      "priority": 100
    },
    {
      "id": "spirit_alert",
      "name": "必闪",
      "hook": "HOOK_PRE_HIT_RATE",
      "operation": "set",
      "value": 0.0,
      "duration": 1,
      "charges": 1,
      "priority": 100
    }
  ],
  "spirit_persist": [
    {
      "id": "spirit_persist",
      "name": "不屈",
      "hook": "HOOK_ON_DAMAGE_TAKEN",
      "operation": "set",
      "value": 10,
      "duration": 1,
      "charges": 1,
      "priority": 100
    }
  ],
  "trait_nt": [
    {
      "id": "trait_nt_hit",
      "name": "新人类(命中)",
      "hook": "HOOK_PRE_HIT_RATE",
      "operation": "add",
      "value": 15.0,
      "duration": -1,
      "priority": 10
    },
    {
      "id": "trait_nt_eva",
      "name": "新人类(回避)",
      "hook": "HOOK_PRE_DODGE_RATE",
      "operation": "add",
      "value": 15.0,
      "duration": -1,
      "priority": 10
    }
  ],
  "trait_expert": [
    {
      "id": "trait_exp_dmg",
      "name": "精英(伤害)",
      "hook": "HOOK_PRE_DAMAGE_MULT",
      "operation": "add",
      "value": 0.1,
      "duration": -1
    },
    {
      "id": "trait_exp_save",
      "name": "精英(节能)",
      "hook": "HOOK_PRE_EN_COST_MULT",
      "operation": "mul",
      "value": 0.9,
      "duration": -1
    }
  ],
  "trait_seed": [
    {
      "id": "trait_seed_burst",
      "name": "SEED爆发",
      "hook": "HOOK_PRE_DAMAGE_MULT",
      "operation": "mul",
      "value": 1.25,
      "duration": -1,
      "conditions": [
        {
          "type": "hp_threshold",
          "val": 0.5,
          "op": "<"
        }
      ]
    }
  ],
  "trait_zero": [
    {
      "id": "trait_zero",
      "name": "ZERO系统",
      "hook": "HOOK_PRE_HIT_RATE",
      "operation": "add",
      "value": 40.0,
      "duration": -1,
      "side_effects": [
        {
          "type": "modify_will",
          "val": -2
        }
      ]
    }
  ],
  "trait_transam": [
    {
      "id": "trait_transam_init",
      "name": "Trans-AM(加速)",
      "hook": "HOOK_INITIATIVE_SCORE",
      "operation": "add",
      "value": 60.0,
      "duration": -1
    },
    {
      "id": "trait_transam_eva",
      "name": "Trans-AM(回避)",
      "hook": "HOOK_PRE_DODGE_RATE",
      "operation": "add",
      "value": 20.0,
      "duration": -1
    }
  ],
  "trait_ps_armor": [
    {
      "id": "trait_ps_armor",
      "name": "PS装甲",
      "hook": "HOOK_PRE_MITIGATION",
      "operation": "max",
      "value": 0.3,
      "duration": -1,
      "conditions": [
        {
          "type": "weapon_type",
          "val": "MELEE",
          "op": "=="
        }
      ]
    }
  ],
  "trait_ifield": [
    {
      "id": "trait_ifield",
      "name": "I-Field",
      "hook": "HOOK_PRE_MITIGATION",
      "operation": "max",
      "value": 0.4,
      "duration": -1,
      "conditions": [
        {
          "type": "weapon_type",
          "val": "RIFLE",
          "op": "=="
        }
      ]
    }
  ],
  "trait_funnels": [
    {
      "id": "trait_funnels",
      "name": "浮游炮精准",
      "hook": "HOOK_PRE_PRECISION",
      "operation": "add",
      "value": 20.0,
      "duration": -1
    }
  ],
  "trait_potential": [
    {
      "id": "trait_potential",
      "name": "底力",
      "hook": "HOOK_PRE_MITIGATION",
      "operation": "callback",
      "value": "cb_potential",
      "duration": -1
    }
  ],
  "trait_hero": [
    {
      "id": "trait_hero_crit",
      "name": "勇者(暴击)",
      "hook": "HOOK_PRE_CRIT_RATE",
      "operation": "add",
      "value": 20.0,
      "duration": -1
    }
  ],
  "trait_berserk": [
    {
      "id": "trait_berserk_atk",
      "name": "狂暴(攻击)",
      "hook": "HOOK_PRE_DAMAGE_MULT",
      "operation": "mul",
      "value": 1.5,
      "duration": -1
    },
    {
      "id": "trait_berserk_eva",
      "name": "狂暴(减防)",
      "hook": "HOOK_PRE_DODGE_RATE",
      "operation": "sub",
      "value": 20.0,
      "duration": -1
    }
  ],
  "trait_solar": [
    {
      "id": "trait_solar",
      "name": "GN炉",
      "hook": "HOOK_ON_TURN_END",
      "operation": "callback",
      "value": "cb_gn_recover",
      "duration": -1
    }
  ],
  "trait_bio_sensor": [
    {
      "id": "trait_bio_sensor",
      "name": "生物感应器",
      "hook": "HOOK_PRE_PRECISION",
      "operation": "add",
      "value": 25.0,
      "duration": -1,
      "conditions": [
        {
          "type": "will_threshold",
          "val": 130,
          "op": ">="
        }
      ]
    }
  ],
  "trait_heavy_armor": [
    {
      "id": "trait_heavy_armor",
      "name": "厚重装甲",
      "hook": "HOOK_PRE_DEFENSE_LEVEL",
      "operation": "add",
      "value": 600.0,
      "duration": -1
    }
  ],
  "trait_sniper": [
    {
      "id": "trait_sniper",
      "name": "狙击手(命中)",
      "hook": "HOOK_PRE_HIT_RATE",
      "operation": "add",
      "value": 25.0,
      "duration": -1,
      "conditions": [
        {
          "type": "round_number",
          "val": 3,
          "op": ">="
        }
      ]
    }
  ],
  "trait_learning": [
    {
      "id": "trait_learning",
      "name": "学习电脑",
      "hook": "HOOK_PRE_HIT_RATE",
      "operation": "callback",
      "value": "cb_learning",
      "duration": -1
    }
  ],
  "trait_counter": [
    {
      "id": "trait_counter",
      "name": "反击加成",
      "hook": "HOOK_PRE_DAMAGE_MULT",
      "operation": "add",
      "value": 0.15,
      "duration": -1
    }
  ],
  "trait_shield": [
    {
      "id": "trait_shield",
      "name": "盾牌强化(格挡)",
      "hook": "HOOK_PRE_BLOCK_RATE",
      "operation": "add",
      "value": 25.0,
      "duration": -1
    }
  ],
  "trait_multi": [
    {
      "id": "trait_multi",
      "name": "多重锁定",
      "hook": "HOOK_PRE_DAMAGE_MULT",
      "operation": "add",
      "value": 0.2,
      "duration": -1,
      "conditions": [
        {
          "type": "will_threshold",
          "val": 140,
          "op": ">="
        }
      ]
    }
  ],
  "trait_guard": [
    {
      "id": "trait_guard",
      "name": "防御",
      "hook": "HOOK_PRE_MITIGATION",
      "operation": "add",
      "value": 0.15,
      "duration": -1
    }
  ],
  "spirit_dream": [
    {
      "id": "spirit_dream",
      "name": "梦境",
      "hook": "HOOK_INITIATIVE_CHECK",
      "operation": "set",
      "value": true,
      "duration": 1,
      "charges": 1,
      "priority": 95
    }
  ],
  "spirit_suppress": [
    {
      "id": "spirit_suppress",
      "name": "威压",
      "hook": "HOOK_INITIATIVE_CHECK",
      "operation": "set",
      "value": true,
      "duration": 1,
      "priority": 90
    }
  ],
  "spirit_confuse": [
    {
      "id": "spirit_confuse",
      "name": "搅乱",
      "hook": "HOOK_PRE_MISS_RATE",
      "operation": "add",
      "value": 30.0,
      "duration": 1
    }
  ],
  "trait_weapon_mastery": [
    {
      "id": "trait_weapon_mastery",
      "name": "武器熟练",
      "hook": "HOOK_PRE_MISS_RATE",
      "operation": "sub",
      "value": 15.0,
      "duration": -1
    }
  ],
  "trait_sword_master": [
    {
      "id": "trait_sword_master",
      "name": "剑术达人",
      "hook": "HOOK_PRE_PARRY_RATE",
      "operation": "add",
      "value": 20.0,
      "duration": -1
    }
  ],
  "trait_reflex": [
    {
      "id": "trait_reflex",
      "name": "超反应",
      "hook": "HOOK_PRE_PARRY_RATE",
      "operation": "add",
      "value": 15.0,
      "duration": -1,
      "conditions": [
        {
          "type": "will_threshold",
          "val": 120,
          "op": ">="
        }
      ]
    }
  ],
  "trait_energy_bonus": [
    {
      "id": "trait_energy_bonus",
      "name": "能量强化",
      "hook": "HOOK_PRE_CRIT_RATE",
      "operation": "add",
      "value": 15.0,
      "duration": -1
    }
  ],
  "trait_critical_eye": [
    {
      "id": "trait_critical_eye",
      "name": "看破",
      "hook": "HOOK_PRE_CRIT_RATE",
      "operation": "add",
      "value": 25.0,
      "duration": -1,
      "conditions": [
        {
          "type": "enemy_will_threshold",
          "val": 100,
          "op": "<"
        }
      ]
    }
  ],
  "spirit_miracle": [
    {
      "id": "spirit_miracle",
      "name": "奇迹",
      "hook": "HOOK_OVERRIDE_RESULT",
      "operation": "callback",
      "value": "cb_miracle_hit",
      "duration": 1,
      "charges": 1,
      "priority": 100
    }
  ],
  "spirit_instinct": [
    {
      "id": "spirit_instinct",
      "name": "本能",
      "hook": "HOOK_POST_ROLL_RESULT",
      "operation": "callback",
      "value": "cb_instinct_dodge",
      "duration": 1,
      "trigger_chance": 0.3,
      "priority": 95
    }
  ],
  "trait_overweapon": [
    {
      "id": "trait_overweapon",
      "name": "超武装",
      "hook": "HOOK_PRE_WEAPON_POWER",
      "operation": "add",
      "value": 500.0,
      "duration": -1
    }
  ],
  "trait_limit_break": [
    {
      "id": "trait_limit_break",
      "name": "界限突破",
      "hook": "HOOK_PRE_WEAPON_POWER",
      "operation": "mul",
      "value": 1.2,
      "duration": -1,
      "conditions": [
        {
          "type": "will_threshold",
          "val": 150,
          "op": ">="
        }
      ]
    }
  ],
  "trait_genius": [
    {
      "id": "trait_genius",
      "name": "天才",
      "hook": "HOOK_PRE_STAT_BONUS",
      "operation": "mul",
      "value": 1.3,
      "duration": -1
    }
  ],
  "trait_training": [
    {
      "id": "trait_training",
      "name": "修练",
      "hook": "HOOK_PRE_STAT_BONUS",
      "operation": "add",
      "value": 20.0,
      "duration": -1
    }
  ],
  "trait_soul": [
    {
      "id": "trait_soul",
      "name": "灵魂",
      "hook": "HOOK_PRE_WILL_MODIFIER",
      "operation": "mul",
      "value": 1.2,
      "duration": -1
    }
  ],
  "trait_awakening": [
    {
      "id": "trait_awakening",
      "name": "觉醒",
      "hook": "HOOK_PRE_WILL_MODIFIER",
      "operation": "add",
      "value": 0.15,
      "duration": -1,
      "conditions": [
        {
          "type": "will_threshold",
          "val": 140,
          "op": ">="
        }
      ]
    }
  ],
  "spirit_fury": [
    {
      "id": "spirit_fury",
      "name": "激怒",
      "hook": "HOOK_PRE_CRIT_MULTIPLIER",
      "operation": "mul",
      "value": 1.5,
      "duration": 1,
      "priority": 80
    }
  ],
  "trait_heavy_crit": [
    {
      "id": "trait_heavy_crit",
      "name": "重击手",
      "hook": "HOOK_PRE_CRIT_MULTIPLIER",
      "operation": "add",
      "value": 0.5,
      "duration": -1
    }
  ],
  "trait_laminated": [
    {
      "id": "trait_laminated",
      "name": " laminate装甲",
      "hook": "HOOK_PRE_ARMOR_VALUE",
      "operation": "add",
      "value": 800.0,
      "duration": -1
    }
  ],
  "trait_nanocoating": [
    {
      "id": "trait_nanocoating",
      "name": "纳米涂层",
      "hook": "HOOK_PRE_ARMOR_VALUE",
      "operation": "mul",
      "value": 1.15,
      "duration": -1
    }
  ],
  "trait_energy_shield": [
    {
      "id": "trait_energy_shield",
      "name": "能量盾",
      "hook": "HOOK_PRE_BLOCK_VALUE",
      "operation": "add",
      "value": 300.0,
      "duration": -1
    }
  ],
  "trait_barrier": [
    {
      "id": "trait_barrier",
      "name": "壁垒",
      "hook": "HOOK_PRE_BLOCK_VALUE",
      "operation": "mul",
      "value": 1.5,
      "duration": -1
    }
  ],
  "trait_auto_repair": [
    {
      "id": "trait_auto_repair",
      "name": "自动修复",
      "hook": "HOOK_ON_DAMAGE_TAKEN",
      "operation": "callback",
      "value": "cb_auto_repair",
      "duration": -1
    }
  ],
  "trait_ablat": [
    {
      "id": "trait_ablat",
      "name": "烧蚀装甲",
      "hook": "HOOK_ON_DAMAGE_TAKEN",
      "operation": "sub",
      "value": 200.0,
      "duration": -1,
      "conditions": [
        {
          "type": "damage_type",
          "val": "BEAM"
        }
      ]
    }
  ],
  "spirit_rage": [
    {
      "id": "spirit_rage",
      "name": "气迫",
      "hook": "HOOK_ON_DAMAGE_DEALT",
      "operation": "callback",
      "value": "cb_rage_will",
      "duration": 1
    }
  ],
  "trait_vampirism": [
    {
      "id": "trait_vampirism",
      "name": "吸血",
      "hook": "HOOK_ON_DAMAGE_DEALT",
      "operation": "mul",
      "value": 0.1,
      "duration": -1
    }
  ],
  "spirit_effort": [
    {
      "id": "spirit_effort",
      "name": "努力",
      "hook": "HOOK_ON_KILL",
      "operation": "callback",
      "value": "cb_effort_exp",
      "duration": 1
    }
  ],
  "trait_mercy": [
    {
      "id": "trait_mercy",
      "name": "慈悲",
      "hook": "HOOK_ON_KILL",
      "operation": "callback",
      "value": "cb_mercy_will",
      "duration": -1
    }
  ],
  "spirit_reunion": [
    {
      "id": "spirit_reunion",
      "name": "再动",
      "hook": "HOOK_ON_ATTACK_END",
      "operation": "callback",
      "value": "cb_reunion",
      "duration": 1,
      "charges": 1,
      "priority": 95
    }
  ],
  "trait_quick_reload": [
    {
      "id": "trait_quick_reload",
      "name": "快速装填",
      "hook": "HOOK_ON_ATTACK_END",
      "operation": "callback",
      "value": "cb_quick_reload_en",
      "duration": -1
    }
  ],
  "trait_energy_save": [
    {
      "id": "trait_energy_save",
      "name": "省能源",
      "hook": "HOOK_ON_TURN_END",
      "operation": "callback",
      "value": "cb_energy_save",
      "duration": -1
    }
  ],
  "trait_regen": [
    {
      "id": "trait_regen",
      "name": "再生",
      "hook": "HOOK_ON_TURN_END",
      "operation": "callback",
      "value": "cb_regen_hp",
      "duration": -1
    }
  ],
  "trait_spirit_boost": [
    {
      "id": "trait_spirit_boost",
      "name": "精神增幅",
      "hook": "HOOK_ON_BATTLE_END",
      "operation": "callback",
      "value": "cb_spirit_boost",
      "duration": -1
    }
  ],
  "trait_morale": [
    {
      "id": "trait_morale",
      "name": "士气",
      "hook": "HOOK_ON_BATTLE_END",
      "operation": "callback",
      "value": "cb_morale_en",
      "duration": -1
    }
  ],
  "spirit_protract": [
    {
      "id": "spirit_protract",
      "name": "拖延",
      "hook": "HOOK_MAX_ROUNDS",
      "operation": "add",
      "value": 5,
      "duration": 1
    }
  ],
  "trait_desperado": [
    {
      "id": "trait_desperado",
      "name": "死斗",
      "hook": "HOOK_MAX_ROUNDS",
      "operation": "add",
      "value": 10,
      "duration": -1,
      "conditions": [
        {
          "type": "hp_threshold",
          "val": 0.3,
          "op": "<"
        }
      ]
    }
  ],
  "spirit_determination": [
    {
      "id": "spirit_determination",
      "name": "执念",
      "hook": "HOOK_CHECK_MAINTAIN_BATTLE",
      "operation": "set",
      "value": true,
      "duration": 1,
      "charges": 1,
      "priority": 100
    }
  ],
  "trait_last_stand": [
    {
      "id": "trait_last_stand",
      "name": "最后手段",
      "hook": "HOOK_CHECK_MAINTAIN_BATTLE",
      "operation": "set",
      "value": true,
      "duration": -1,
      "conditions": [
        {
          "type": "hp_threshold",
          "val": 0.2,
          "op": "<"
        }
      ]
    }
  ],
  "trait_energy_efficient": [
    {
      "id": "trait_energy_efficient",
      "name": "高能效",
      "hook": "HOOK_PRE_EN_COST_MULT",
      "operation": "mul",
      "value": 0.8,
      "duration": -1
    }
  ],
  "trait_burst_fire": [
    {
      "id": "trait_burst_fire",
      "name": "连射",
      "hook": "HOOK_PRE_EN_COST_MULT",
      "operation": "mul",
      "value": 0.7,
      "duration": -1,
      "conditions": [
        {
          "type": "will_threshold",
          "val": 130,
          "op": ">="
        }
      ]
    }
  ],
  "spirit_critical_burst": [
    {
      "id": "spirit_critical_burst",
      "name": "暴击爆发",
      "description": "30%概率本次攻击必定暴击",
      "hook": "HOOK_PRE_CRIT_RATE",
      "operation": "set",
      "value": 100.0,
      "duration": 1,
      "trigger_chance": 0.3,
      "priority": 95
    }
  ],
  "spirit_lucky_dodge": [
    {
      "id": "spirit_lucky_dodge",
      "name": "幸运闪避",
      "description": "25%概率将HIT转为DODGE",
      "hook": "HOOK_POST_ROLL_RESULT",
      "operation": "callback",
      "value": "cb_lucky_dodge",
      "duration": 1,
      "trigger_chance": 0.25,
      "priority": 95
    }
  ],
  "spirit_desperate_strike": [
    {
      "id": "spirit_desperate_strike",
      "name": "绝地一击",
      "description": "HP<30%时，40%概率造成1.5倍伤害",
      "hook": "HOOK_PRE_DAMAGE_MULT",
      "operation": "mul",
      "value": 1.5,
      "duration": 1,
      "trigger_chance": 0.4,
      "priority": 90,
      "conditions": [
        {
          "type": "owner_hp_below",
          "threshold": 0.3
        }
      ]
    }
  ],
  "spirit_enrage": [
    {
      "id": "spirit_enrage",
      "name": "狂怒",
      "description": "受到伤害后，20%概率提升攻击力50%，持续3回合",
      "hook": "HOOK_ON_DAMAGE_TAKEN",
      "operation": "callback",
      "value": "cb_enrage",
      "duration": 1,
      "trigger_chance": 0.2,
      "priority": 85,
      "side_effects": [
        {
          "hook": "HOOK_PRE_ATTACK_POWER",
          "operation": "add",
          "value": 50.0,
          "duration": 3
        }
      ]
    }
  ],
  "spirit_second_wind": [
    {
      "id": "spirit_second_wind",
      "name": "回光返照",
      "description": "HP<20%时，35%概率回复50% HP",
      "hook": "HOOK_ON_TURN_START",
      "operation": "callback",
      "value": "cb_second_wind",
      "duration": 1,
      "trigger_chance": 0.35,
      "priority": 90,
      "conditions": [
        {
          "type": "owner_hp_below",
          "threshold": 0.2
        }
      ]
    }
  ],
  "spirit_counter_attack": [
    {
      "id": "spirit_counter_attack",
      "name": "反击",
      "description": "被攻击时，30%概率立即反击一次",
      "hook": "HOOK_ON_ATTACK_END",
      "operation": "callback",
      "value": "cb_counter_attack",
      "duration": 1,
      "trigger_chance": 0.3,
      "priority": 88,
      "conditions": [
        {
          "type": "is_defender"
        }
      ]
    }
  ],
  "spirit_precision_strike": [
    {
      "id": "spirit_precision_strike",
      "name": "精准打击",
      "description": "25%概率本次攻击无视敌方格挡和招架",
      "hook": "HOOK_PRE_IGNORE_DEFENSE",
      "operation": "set",
      "value": 1.0,
      "duration": 1,
      "trigger_chance": 0.25,
      "priority": 92
    }
  ],
  "spirit_energy_surge": [
    {
      "id": "spirit_energy_surge",
      "name": "能量涌动",
      "description": "EN<30%时，40%概率回复100 EN",
      "hook": "HOOK_ON_TURN_START",
      "operation": "callback",
      "value": "cb_energy_surge",
      "duration": 1,
      "trigger_chance": 0.4,
      "priority": 85,
      "conditions": [
        {
          "type": "owner_en_below",
          "threshold": 0.3
        }
      ]
    }
  ],
  "spirit_berserk": [
    {
      "id": "spirit_berserk",
      "name": "狂暴",
      "description": "HP<50%时，每回合30%概率提升暴击率30%，持续2回合",
      "hook": "HOOK_ON_TURN_START",
      "operation": "callback",
      "duration": 1,
      "trigger_chance": 0.3,
      "priority": 87,
      "conditions": [
        {
          "type": "owner_hp_below",
          "threshold": 0.5
        }
      ],
      "side_effects": [
        {
          "hook": "HOOK_PRE_CRIT_RATE",
          "operation": "add",
          "value": 30.0,
          "duration": 2
        }
      ]
    }
  ],
  "trait_critical_master": [
    {
      "id": "trait_critical_master",
      "name": "暴击大师",
      "description": "永久特性：每次暴击时，20%概率恢复10 EN",
      "hook": "HOOK_ON_CRIT",
      "operation": "callback",
      "value": "cb_critical_master_en",
      "duration": -1,
      "trigger_chance": 0.2
    }
  ],
  "trait_dodge_reflex": [
    {
      "id": "trait_dodge_reflex",
      "name": "闪避反射",
      "description": "永久特性：成功闪避后，25%概率立即反击",
      "hook": "HOOK_ON_DODGE",
      "operation": "callback",
      "value": "cb_dodge_reflex",
      "duration": -1,
      "trigger_chance": 0.25
    }
  ],
  "trait_adrenaline": [
    {
      "id": "trait_adrenaline",
      "name": "肾上腺素",
      "description": "永久特性：受到致死伤害时，30%概率保留1 HP",
      "hook": "HOOK_ON_DAMAGE_TAKEN",
      "operation": "callback",
      "value": "cb_adrenaline_survive",
      "duration": -1,
      "trigger_chance": 0.3,
      "priority": 95,
      "conditions": [
        {
          "type": "would_be_fatal"
        }
      ]
    }
  ],
  "trait_lucky_star": [
    {
      "id": "trait_lucky_star",
      "name": "幸运星",
      "description": "永久特性：每次攻击未命中时，10%概率返还50% EN消耗",
      "hook": "HOOK_ON_MISS",
      "operation": "callback",
      "value": "cb_lucky_en_refund",
      "duration": -1,
      "trigger_chance": 0.1
    }
  ],
  "trait_mana_shield": [
    {
      "id": "trait_mana_shield",
      "name": "法力护盾",
      "description": "永久特性：受到伤害时，20%概率消耗EN代替HP（1 EN = 100伤害）",
      "hook": "HOOK_PRE_DAMAGE_TAKEN",
      "operation": "callback",
      "value": "cb_mana_shield",
      "duration": -1,
      "trigger_chance": 0.2,
      "priority": 92
    }
  ],
  "trait_berserk_mode": [
    {
      "id": "trait_berserk_mode",
      "name": "狂暴模式",
      "description": "永久特性：HP<30%时，每回合40%概率攻击力翻倍，防御减半，持续2回合",
      "hook": "HOOK_ON_TURN_START",
      "duration": -1,
      "trigger_chance": 0.4,
      "priority": 88,
      "conditions": [
        {
          "type": "owner_hp_below",
          "threshold": 0.3
        }
      ],
      "side_effects": [
        {
          "hook": "HOOK_PRE_ATTACK_POWER",
          "operation": "mul",
          "value": 2.0,
          "duration": 2
        },
        {
          "hook": "HOOK_PRE_DEFENSE_MULT",
          "operation": "mul",
          "value": 0.5,
          "duration": 2
        }
      ]
    }
  ],
  "spirit_execute": [
    {
      "id": "spirit_execute",
      "name": "处决",
      "description": "对HP<50%的敌人，造成1.5倍伤害",
      "hook": "HOOK_PRE_DAMAGE_MULT",
      "operation": "mul",
      "value": 1.5,
      "duration": 1,
      "priority": 90,
      "conditions": [
        {
          "type": "target_hp_below",
          "threshold": 0.5
        }
      ]
    }
  ],
  "spirit_guard_break": [
    {
      "id": "spirit_guard_break",
      "name": "破防",
      "description": "对防御率>50%的敌人，无视50%防御",
      "hook": "HOOK_PRE_DEFENSE_PENETRATION",
      "operation": "add",
      "value": 50.0,
      "duration": 1,
      "priority": 85,
      "conditions": [
        {
          "type": "target_defense_high",
          "threshold": 0.5
        }
      ]
    }
  ],
  "spirit finish": [
    {
      "id": "spirit_finish",
      "name": "终结",
      "description": "对HP<20%的敌人，命中率+50%",
      "hook": "HOOK_PRE_HIT_RATE",
      "operation": "add",
      "value": 50.0,
      "duration": 1,
      "priority": 92,
      "conditions": [
        {
          "type": "target_hp_below",
          "threshold": 0.2
        }
      ]
    }
  ],
  "spirit_defensive_stance": [
    {
      "id": "spirit_defensive_stance",
      "name": "防御姿态",
      "description": "HP<50%时，防御+30，机动-20",
      "hook": "HOOK_PRE_EN_STATS",
      "operation": "callback",
      "value": "cb_defensive_stance",
      "duration": 1,
      "priority": 80,
      "conditions": [
        {
          "type": "owner_hp_below",
          "threshold": 0.5
        }
      ],
      "side_effects": [
        {
          "hook": "HOOK_PRE_DEFENSE_MULT",
          "operation": "add",
          "value": 30.0,
          "duration": -1
        },
        {
          "hook": "HOOK_PRE_MOBILITY",
          "operation": "sub",
          "value": 20.0,
          "duration": -1
        }
      ]
    }
  ],
  "spirit_offensive_stance": [
    {
      "id": "spirit_offensive_stance",
      "name": "攻击姿态",
      "description": "HP>80%时，攻击+30，防御-20",
      "hook": "HOOK_PRE_EN_STATS",
      "operation": "callback",
      "value": "cb_offensive_stance",
      "duration": 1,
      "priority": 80,
      "conditions": [
        {
          "type": "owner_hp_above",
          "threshold": 0.8
        }
      ],
      "side_effects": [
        {
          "hook": "HOOK_PRE_ATTACK_POWER",
          "operation": "add",
          "value": 30.0,
          "duration": -1
        },
        {
          "hook": "HOOK_PRE_DEFENSE_MULT",
          "operation": "sub",
          "value": 20.0,
          "duration": -1
        }
      ]
    }
  ],
  "trait_hp_guardian": [
    {
      "id": "trait_hp_guardian",
      "name": "生命守护",
      "description": "永久特性：HP越低，防御越高（最多+50%）",
      "hook": "HOOK_PRE_DEFENSE_MULT",
      "operation": "callback",
      "value": "cb_hp_guardian",
      "duration": -1,
      "priority": 75,
      "conditions": [
        {
          "type": "owner_hp_below",
          "threshold": 1.0
        }
      ]
    }
  ],
  "trait_momentum": [
    {
      "id": "trait_momentum",
      "name": "气势",
      "description": "永久特性：连续命中时，伤害递增（每次+5%，最多+25%）",
      "hook": "HOOK_POST_ATTACK_HIT",
      "operation": "callback",
      "value": "cb_momentum_counter",
      "duration": -1
    }
  ],
  "trait_counter_attack": [
    {
      "id": "trait_counter_attack",
      "name": "反击",
      "description": "永久特性：被攻击时有30%概率反击",
      "hook": "HOOK_ON_ATTACK_END",
      "operation": "callback",
      "value": "cb_trait_counter",
      "duration": -1,
      "trigger_chance": 0.3,
      "priority": 85,
      "conditions": [
        {
          "type": "is_defender"
        }
      ]
    }
  ],
  "trait_executioner": [
    {
      "id": "trait_executioner",
      "name": "处刑者",
      "description": "永久特性：对HP<30%的敌人，暴击率+20%",
      "hook": "HOOK_PRE_CRIT_RATE",
      "operation": "add",
      "value": 20.0,
      "duration": -1,
      "priority": 88,
      "conditions": [
        {
          "type": "target_hp_below",
          "threshold": 0.3
        }
      ]
    }
  ],
  "trait_elemental_advantage": [
    {
      "id": "trait_elemental_advantage",
      "name": "属性优势",
      "description": "永久特性：对特定类型敌人伤害+25%",
      "hook": "HOOK_PRE_DAMAGE_MULT",
      "operation": "mul",
      "value": 1.25,
      "duration": -1,
      "priority": 82,
      "conditions": [
        {
          "type": "target_type",
          "value": "biological"
        }
      ]
    }
  ],
  "trait_energy_efficiency": [
    {
      "id": "trait_energy_efficiency",
      "name": "高效",
      "description": "永久特性：EN>50%时，EN消耗减半",
      "hook": "HOOK_PRE_EN_COST_MULT",
      "operation": "callback",
      "value": "cb_efficient_en",
      "duration": -1,
      "priority": 88,
      "conditions": [
        {
          "type": "owner_en_above",
          "threshold": 0.5
        }
      ]
    }
  ],
  "trait_phase_shift": [
    {
      "id": "trait_phase_shift",
      "name": "相位转移",
      "description": "永久特性：第1-3回合防御+50%，第4-6回合攻击+50%",
      "hook": "HOOK_ON_TURN_START",
      "operation": "callback",
      "value": "cb_phase_shift",
      "duration": -1,
      "priority": 85
    }
  ],
  "trait_combo_master": [
    {
      "id": "trait_combo_master",
      "name": "连击大师",
      "description": "永久特性：连续命中3次后，下一次必定暴击",
      "hook": "HOOK_POST_ATTACK_HIT",
      "operation": "callback",
      "value": "cb_combo_counter",
      "duration": -1,
      "priority": 92
    }
  ],
  "trait_adaptive_armor": [
    {
      "id": "trait_adaptive_armor",
      "name": "适应性装甲",
      "description": "永久特性：受到相同类型伤害后，对该类型伤害抗性+20%",
      "hook": "HOOK_ON_DAMAGE_TAKEN",
      "operation": "callback",
      "value": "cb_adaptive_defense",
      "duration": -1,
      "priority": 80
    }
  ],
  "trait_rage_building": [
    {
      "id": "trait_rage_building",
      "name": "怒气累积",
      "description": "永久特性：每次受到伤害时，暴击率+2%（最多+20%）",
      "hook": "HOOK_ON_DAMAGE_TAKEN",
      "operation": "callback",
      "value": "cb_rage_counter",
      "duration": -1,
      "priority": 87
    }
  ]
}